(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{63:function(e,t,a){},92:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(20),s=a.n(r),i=a(3),o=a(7),l=n.a.createContext({primary:"#eae672"}),d=n.a.createContext({state:{},dispatch:function(){}}),j=a(1);function u(){var e=Object(o.useContext)(d),t=e.state,a=e.dispatch;return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({type:"LOGOUT"})},children:[Object(j.jsxs)("p",{children:["Logged in User ",Object(j.jsx)("b",{children:t.user.username})]}),Object(j.jsx)("input",{type:"submit",value:"Logout"})]})}var b=a(2),O=a(9),h=a(102),m=a(104),x=a(101);a(31);function p(e){var t=e.show,a=e.handleClose,n=Object(o.useContext)(d).dispatch,r=Object(c.useState)(!1),s=Object(i.a)(r,2),l=s[0],u=s[1],p=Object(c.useState)({username:"",password:""}),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(O.b)((function(e,t){return{url:"/auth/login",method:"post",data:{username:e,password:t}}})),C=Object(i.a)(y,2),w=C[0],D=C[1];return Object(c.useEffect)((function(){w&&!1===w.isLoading&&(w.data||w.error)&&(w.error?(u(!0),alert("failed")):(u(!1),console.log("UserId: "+w.data.id),n({type:"REGISTRATION",id:w.data.id,username:g.username,access_token:w.data.access_token})))}),[w]),Object(j.jsx)(h.a,{show:t,onHide:a,children:Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),D(g.username,g.password),a()},children:[Object(j.jsx)(h.a.Header,{closeButton:!0,children:Object(j.jsx)(h.a.Title,{children:"Login"})}),Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(m.a.Label,{htmlFor:"username-input",children:"UserName:"}),Object(j.jsx)(m.a.Control,{type:"text",name:"username-input",value:g.username,onChange:function(e){v(Object(b.a)(Object(b.a)({},g),{},{username:e.target.value}))},placeholder:"Username"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"password-input",children:"Password:"}),Object(j.jsx)(m.a.Control,{type:"password",name:"password-input",value:g.password,onChange:function(e){v(Object(b.a)(Object(b.a)({},g),{},{password:e.target.value}))},placeholder:"Password"}),l&&Object(j.jsx)("span",{style:{color:"red"},children:"Invalid username or password"})]}),Object(j.jsxs)(h.a.Footer,{children:[Object(j.jsx)(x.a,{className:"secondary",onClick:a,children:"Cancel"}),Object(j.jsx)(x.a,{className:"primary",disabled:0===g.username.length,type:"submit",children:"Login"})]})]})})}function f(e){var t=e.show,a=e.handleClose,n=Object(o.useContext)(d).dispatch,r=Object(c.useState)({name:"",username:"",email:"",password:"",repeatPassword:"",profileImage:""}),s=Object(i.a)(r,2),l=s[0],u=s[1],p=Object(O.b)((function(e,t,a,c,n,r){return{url:"/auth/register",method:"post",data:{name:e,username:t,email:a,password:c,passwordConfirmation:n,profileImage:r}}})),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(c.useState)(""),C=Object(i.a)(y,2),w=(C[0],C[1]);return Object(c.useEffect)((function(){g&&!1===g.isLoading&&(g.data||g.error)&&(g.error?(console.log(g.error),w("Registration failed, please try again later."),alert("fail")):(console.log(g),w("Registration successful. You may now login."),alert("success"),n({type:"REGISTRATION",id:g.data.id,username:g.data.username,access_token:g.data.access_token})))}),[g]),Object(j.jsx)(h.a,{show:t,onHide:a,children:Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),v(l.name,l.username,l.email,l.password,l.repeatPassword,l.profileImage),a()},children:[Object(j.jsx)(h.a.Header,{closeButton:!0,children:Object(j.jsx)(h.a.Title,{children:"Register"})}),Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(m.a.Label,{htmlFor:"name-input",children:"Name"}),Object(j.jsx)(m.a.Control,{type:"text",name:"name-input",value:l.name,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{name:e.target.value}))},placeholder:"Name"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"username-input",children:"Username"}),Object(j.jsx)(m.a.Control,{type:"text",name:"username-input",value:l.username,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{username:e.target.value}))},placeholder:"Username"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"email-input",children:"Email"}),Object(j.jsx)(m.a.Control,{type:"text",name:"email-input",value:l.email,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{email:e.target.value}))},placeholder:"Email"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"password-input",children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",name:"password-input",value:l.password,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{password:e.target.value}))},placeholder:"Password"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"repeat-password",children:"Repeat Password"}),Object(j.jsx)(m.a.Control,{type:"password",name:"repeat-password",value:l.repeatPassword,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{repeatPassword:e.target.value}))},placeholder:"Password Confirmation"}),Object(j.jsx)("br",{}),Object(j.jsx)(m.a.Label,{htmlFor:"register-profileImage",children:"Profile Image URL:"}),Object(j.jsx)(m.a.Control,{type:"url",name:"register-profileImage",value:l.profileImage,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{profileImage:e.target.value}))},placeholder:"Profile Image URL"})]}),Object(j.jsxs)(h.a.Footer,{children:[Object(j.jsx)(x.a,{variant:"secondary",onClick:a,children:"Cancel"}),Object(j.jsx)(x.a,{variant:"primary",type:"submit",disabled:0===l.username.length||0===l.password.length||l.password!==l.repeatPassword,children:"Register"})]})]})})}var g=a(13);function v(){var e,t=Object(o.useContext)(d).state,a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!1),b=Object(i.a)(l,2),O=b[0],h=b[1];return e=t.user.username?Object(j.jsxs)("span",{children:[Object(j.jsx)(u,{}),Object(j.jsx)(g.a,{href:"/user/".concat(t.user.id),children:"My Profile"}),Object(j.jsx)("br",{}),Object(j.jsx)(g.a,{href:"/user/all",children:"Discover other Users"})]}):Object(j.jsxs)("div",{className:"justify-content-end",children:[Object(j.jsx)(x.a,{variant:"link",onClick:function(e){return s(!0)},children:"Login"}),Object(j.jsx)(p,{show:r,handleClose:function(){return s(!1)}}),Object(j.jsx)(x.a,{variant:"link",onClick:function(e){return h(!0)},children:"Register"}),Object(j.jsx)(f,{show:O,handleClose:function(){return h(!1)}})]}),Object(j.jsx)("span",{children:e})}function y(){return Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(g.a,{href:"/",children:Object(j.jsx)("h2",{className:"navbar-brand mb-0 h1",children:" To Do"})}),Object(j.jsx)(v,{})]})})}var C=a(11),w=a(47);function D(e,t){return{user:N(e.user,t),toDo:k(e.toDo,t)}}function N(e,t){switch(t.type){case"LOGIN":case"LOGOUT":return{id:void 0,username:void 0,access_token:void 0};case"REGISTRATION":return{id:t.id,username:t.username,access_token:t.access_token};default:return e}}function k(e,t){switch(t.type){case"CREATE_TODO":return[{id:t.id,title:t.title,description:t.description,createdBy:t.createdBy,createdDate:t.createdDate,completedDate:t.completedDate}].concat(Object(w.a)(e));case"TOGGLE_TODO":return e.map((function(e){return e.id!==t.id?e:Object(b.a)(Object(b.a)({},e),{},{completedDate:t.completedDate})}));case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"FETCH_POSTS":return t.toDos;default:return e}}function L(){var e=Object(o.useContext)(d),t=e.state,a=e.dispatch,n=t.user,r=Object(c.useState)({title:"",description:""}),s=Object(i.a)(r,2),l=s[0],u=s[1],h=Object(O.b)((function(e){var a=e.title,c=e.description;return{url:"/todo",method:"post",headers:{Authorization:"".concat(t.user.access_token)},data:{title:a,description:c,createdBy:n.username}}})),m=Object(i.a)(h,2),x=m[0],p=m[1];return Object(c.useEffect)((function(){x&&x.data&&!1===x.isLoading&&(console.log("Todo: "+x.data.id),a({type:"CREATE_TODO",id:x.data.id,title:l.title,description:l.description,createdBy:n.username,createdDate:x.data.createdDate,completedDate:x.data.completedDate}))}),[x]),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p({title:l.title,description:l.description})},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"create-title",children:"Title:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",className:"form-control",value:l.title,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{title:e.target.value}))},name:"create-title",id:"create-title"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{htmlFor:"create-description",children:"Description:"}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{type:"text",className:"form-control",value:l.description,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{description:e.target.value}))},name:"create-description",id:"create-description",cols:"40",rows:"5"}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:["Author: ",Object(j.jsx)("b",{children:n.username})]}),Object(j.jsx)("br",{})]}),Object(j.jsx)("input",{type:"submit",value:"Create"})]})}a(63),a(64);function T(e){var t,a,n,r=e.id,s=e.title,u=e.description,b=(e.createdBy,e.createdDate),h=e.completedDate,m=Object(o.useContext)(d),x=m.dispatch,p=m.state,f=Object(o.useContext)(l).primary,g=Object(O.b)((function(e){return{url:"/todo/".concat(e,"/complete"),method:"PATCH",headers:{Authorization:"".concat(p.user.access_token)}}})),v=Object(i.a)(g,2),y=v[0],C=v[1],w=Object(O.b)((function(e){return{url:"/todo/".concat(e),method:"DELETE",headers:{Authorization:"".concat(p.user.access_token)}}})),D=Object(i.a)(w,2),N=D[0],k=D[1];if(Object(c.useEffect)((function(){y&&y.data&&!1===y.isLoading&&x({type:"TOGGLE_TODO",id:r,completedDate:y.data.completedDate})}),[y]),Object(c.useEffect)((function(){N&&N.data&&!1===N.isLoading&&x({type:"DELETE_TODO",id:r})}),[N]),h){var L=Math.ceil((Date.now()-h)/864e5);t=Object(j.jsxs)("p",{children:["Completed ",Object(j.jsx)("i",{className:"fa fa-check fa-lg",id:"greenFont"})," ",L," day(s) ago"]}),n="oneButtonLayout"}else t=Object(j.jsxs)("p",{children:["Not Completed ",Object(j.jsx)("i",{className:"fa fa-times",id:"redFont"})]}),a=Object(j.jsx)("button",{onClick:function(e){return C(r)},className:"btn btn-success",children:"Complete"}),n="twoButtonLayout";return Object(j.jsx)("li",{className:"quote-container",children:Object(j.jsxs)("div",{className:"note note-background",style:{background:f},children:[Object(j.jsx)("h3",{children:s}),Object(j.jsx)("p",{children:u}),Object(j.jsxs)("p",{children:[new Date(b).toLocaleDateString("en-US"),Object(j.jsx)("br",{})]}),t,Object(j.jsxs)("div",{id:n,children:[a,Object(j.jsx)("button",{onClick:function(e){k(r)},className:"btn btn-danger",children:"Delete"})]})]})})}a(92);var E=function(e){var t=e.setColor;function a(e){t(e.target.value)}return Object(j.jsx)("div",{children:Object(j.jsxs)("ul",{className:"colorButtonList",children:[Object(j.jsx)("li",{children:Object(j.jsx)("button",{type:"button",onClick:a,value:"#feff9c",className:"btn btn-dark",id:"yellowButton",children:" Yellow "})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{type:"button",onClick:a,value:"#ff7eb9",className:"btn btn-dark",id:"pinkButton",children:" Pink "})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{type:"button",onClick:a,value:"#7afcff",className:"btn btn-dark",id:"blueButton",children:" Blue "})})]})})};function _(){var e=Object(o.useContext)(d).state.toDo,t=Object(c.useState)(l),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(j.jsx)("div",{children:Object(j.jsxs)(l.Provider,{value:{primary:n},children:[Object(j.jsx)(E,{setColor:r}),Object(j.jsxs)("ul",{children:[0===e.length&&Object(j.jsx)("h2",{children:"No Todo's Exist"}),e.length>0&&e.map((function(e,t){return Object(c.createElement)(T,Object(b.a)(Object(b.a)({},e),{},{id:e.id,title:e.title,description:e.description,createdBy:e.createdBy,createdDate:e.createdDate,completedDate:e.completedDate,key:"ToDo-"+t}))}))]})]})})}function I(e){e.id;var t,a=e.title,c=e.description,n=e.createdDate,r=e.completedDate;if(r){var s=Math.ceil((Date.now()-r)/864e5);t=Object(j.jsxs)("p",{children:["Completed ",Object(j.jsx)("i",{className:"fa fa-check fa-lg",id:"greenFont"})," ",s," day(s) ago"]})}else t=Object(j.jsxs)("p",{children:["Not Completed ",Object(j.jsx)("i",{className:"fa fa-times",id:"redFont"})]});return Object(j.jsx)("li",{className:"quote-container",children:Object(j.jsxs)("div",{className:"note note-background",style:{background:"#feff9c"},children:[Object(j.jsx)("h3",{children:a}),Object(j.jsx)("p",{children:c}),Object(j.jsxs)("p",{children:[new Date(n).toLocaleDateString("en-US"),Object(j.jsx)("br",{})]}),t]})})}function S(e){var t=e.allToDos,a=Object.entries(t);return console.log("The Arr"),console.log(a),Object(j.jsx)("div",{children:Object(j.jsxs)("ul",{children:[0===a.length&&Object(j.jsx)("h2",{children:"No Todo's Exist"}),a.length>0&&a.map((function(e,t){return Object(c.createElement)(I,Object(b.a)(Object(b.a)({},e),{},{id:e.id,title:e.title,description:e.description,createdDate:e.createdDate,completedDate:e.completedDate,key:"ToDo-"+t}))}))]})})}var A=a(103),P=a(105);function U(){var e=Object(o.useContext)(d),t=e.state,a=e.dispatch,n=t.user,r=Object(O.b)((function(){return{url:"/todo/",method:"get",headers:{Authorization:"".concat(n.access_token)}}})),s=Object(i.a)(r,2),l=s[0],u=s[1],b=Object(O.b)((function(){return{url:"/todo/all",method:"get",headers:{Authorization:"".concat(n.access_token)}}})),h=Object(i.a)(b,2),m=h[0],x=h[1];return Object(c.useEffect)((function(){t.user.access_token&&(u(),x())}),[]),Object(c.useEffect)((function(){u(),x()}),[n.access_token]),Object(c.useEffect)((function(){l&&l.data&&a({type:"FETCH_POSTS",toDos:l.data.todo})}),[l]),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)(L,{})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)(A.a,{defaultActiveKey:"My",className:"mb-3",children:[Object(j.jsxs)(P.a,{eventKey:"All",title:"All Todo's",children:[Object(j.jsx)("h2",{children:"All Todo's"}),Object(j.jsx)("div",{children:m.data&&!1===m.isLoading?Object(j.jsx)(S,{allToDos:m.data.todo}):"Loading..."})]}),Object(j.jsxs)(P.a,{eventKey:"My",title:"My Todos",children:[!0===l.isLoading&&"Todos are loading...",!1===l.isLoading," ",Object(j.jsx)(_,{})]})]})})]})}function B(){return Object(o.useContext)(d).state.user.username?Object(j.jsx)(U,{}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Make a Welcome Screen"})})}function F(e){var t=e.id,a=Object(c.useContext)(d).state,n=Object(O.b)((function(){return{url:"/todo/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(c.useEffect)(o,[t]),Object(j.jsxs)("div",{children:[s&&s.data?Object(j.jsx)(T,Object(b.a)({},s.data)):"Loading...",Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{href:"/",children:"Go back"})})]})}function R(e){e.id;var t=e.name,a=e.username,c=e.email,n=e.profileImage,r="https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-portrait-176256935.jpg";return n&&(r=n),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["Name: ",t]}),Object(j.jsxs)("p",{children:["Username: ",a]}),Object(j.jsxs)("p",{children:["Email: ",c]}),Object(j.jsx)("img",{src:r,alt:"..."})]})}function G(e){var t=e.id,a=Object(o.useContext)(d).state,n=Object(O.b)((function(){return{url:"/user/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),r=Object(i.a)(n,2),s=r[0],l=r[1],u=Object(O.b)((function(){return{url:"/todo/user/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),b=Object(i.a)(u,2),h=b[0],m=b[1];return Object(c.useEffect)((function(){l(),m()}),[]),Object(j.jsxs)("span",{children:[Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{href:"/user/all",children:"All User Page"})}),Object(j.jsx)("h1",{children:"Viewing User"}),s.data&&!1===s.isLoading?Object(j.jsx)("div",{children:Object(j.jsx)(R,{id:t,name:s.data.name,username:s.data.username,email:s.data.email,profileImage:s.data.profileImage})}):"Loading...",h.data&&!1===h.isLoading?Object(j.jsx)(S,{allToDos:h.data.todo}):"Loading..."]})}function z(e){var t,a=e.id,c=e.name,n=e.username,r=e.profileImage;return t=r||"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-portrait-176256935.jpg",Object(j.jsx)("span",{children:Object(j.jsxs)("div",{className:"item d-flex align-items-center",children:[Object(j.jsx)("div",{className:"image",children:Object(j.jsx)("img",{src:t,alt:"...",className:"img-fluid rounded-circle"})}),Object(j.jsxs)("div",{className:"text",children:[Object(j.jsx)("h3",{children:c}),Object(j.jsxs)("small",{children:["Username: ",n," "]})]}),Object(j.jsx)(g.a,{href:"/user/".concat(a),children:"View User"})]})})}a(96);function M(){var e=Object(o.useContext)(d).state,t=Object(O.b)((function(){return{url:"/user/",method:"get",headers:{Authorization:"".concat(e.user.access_token)}}})),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){r()}),[]),Object(j.jsxs)("div",{className:"col-md-8 align-self-center",children:[Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{href:"/",children:"Go back"})}),Object(j.jsxs)("div",{className:"articles card",children:[Object(j.jsx)("div",{className:"card-header d-flex align-items-center",children:Object(j.jsx)("h2",{className:"h3",children:"Discover other Users"})}),Object(j.jsx)("div",{className:"card-body no-padding",children:n.data&&!1===n.isLoading?Object.entries(n.data).map((function(e,t){return Object(c.createElement)(z,Object(b.a)(Object(b.a)({},e),{},{id:e._id,name:e.name,username:e.username,profileImage:e.profileImage,key:"user-"+t}))})):"Loading..."})]})]})}function H(){return Object(j.jsx)(M,{})}var K=function(){var e=Object(c.useReducer)(D,{user:{},toDo:[]}),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(C.f)({"/":Object(C.g)({view:Object(j.jsx)(B,{})}),"/user/all":Object(C.g)({view:Object(j.jsx)(H,{})}),"/user/:id":Object(C.g)((function(e){return{view:Object(j.jsx)(G,{id:e.params.id})}})),"/todo/:id":Object(C.g)((function(e){return{view:Object(j.jsx)(F,{id:e.params.id})}}))});return Object(j.jsx)("div",{children:Object(j.jsx)(d.Provider,{value:{state:a,dispatch:n},children:Object(j.jsxs)(g.b,{routes:r,children:[Object(j.jsx)(y,{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(g.c,{})})]})})})},q=a(33),J=a.n(q).a.create({baseURL:"/"});s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(O.a,{value:J,children:Object(j.jsx)(K,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.d4550675.chunk.js.map